<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Key Detection</title>
  <script type="text/javascript" src="./cornify.js"></script>
  <link rel="icon" href="https://fav.farm/ðŸ”¥" />
</head>

<body>
  <script>
    const pressed = []
    const secretCode = 'wesbos'

    window.addEventListener('keyup', (e) => {
      pressed.push(e.key)
      pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length)

      if (pressed.join('').includes(secretCode)) {
        console.log('DinG Ding!!')
        cornify_add()
      }
    })

    //optimized 
    const secret = 'canopy'
    const L = secret.length
    let buf = ''

    window.addEventListener('keydown', (e) => {
      const k = e.key.length === 1 ? e.key.toLowerCase() : ''
      if (!k) return

      buf += k
      if (buf.length > L) buf = buf.slice(-L)
      if (buf.endsWith(secret)) {
        console.log('DING DONG!!!')
        if (typeof cornify_add === 'function') cornify_add()
        buf = ''
      }
    })
  </script>
</body>

</html>